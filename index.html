<!DOCTYPE html>
<html lang="en" dir="ltr">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="color-scheme" content="light dark">
    <link rel="stylesheet" href="pico.classless.min.v2.0.6.css">
    <style>
      .nav {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      .middle {
        text-align: center;
      }
      hr {
        margin-top: 1.5em;
        margin-bottom: 1.5em;
        border-top-width: 3px;
      }
      td.label {
        text-align: right;
      }
      td.section {
        text-align: center;
        font-weight: bold;
        color: var(--pico-code-color);
        background-color: var(--pico-code-background-color);
      }
      td {
        width: 50%;
        white-space: nowrap;
        padding: 0.25em 0.5ex;
      }
    </style>
    <title>Brimley</title>
  </head>

  <body>

    <dialog id="settings">
      <article>
      
        <label>
          Blood glucose ratio (mg/dL):
          <input type="number" id="bloodGlucoseRatio" />
        </label>

        <label>
          Blood glucose target (mg/dL):
          <input type="number" id="bloodGlucoseOffset" />
        </label>

        <label>
        Mealtime:
          <select id="mealtime">
            <option value="breakfast">Breakfast</option>
            <option value="lunch">Lunch</option>
            <option value="dinner">Dinner</option>
          </select>
        </label>

        <label>
          Keytone level:
          <select id="keytoneLevel">
            <option value="negative">Negative</option>
            <option value="trace">Trace</option>
            <option value="small">Small</option>
            <option value="moderate">Moderate</option>
            <option value="large">Large</option>
          </select>
        </label>

        <footer>
          <button autofocus role="button" onclick="settings.close()">Close</button>
        </footer>
      </article>

    </dialog>

    <main>

      <div class="nav">
        <button id="copy">&#128203;</button>
        <h1>Brimley</h1>
        <button onclick="settings.showModal()">&#9881;&#65039;</button>
      </div>

      <hr>

      <label>
        Blood glucose (mg/dL):
        <input type="number" id="bloodGlucose" />
      </label>

      <label>
        Carbs (g):
        <input type="number" id="carbs" />
      </label>

      <h2 class="middle">
        Total dose:
        <span id="total"></span> units
      </h2>

      <hr>

      <table>
        <tbody>

          <tr>
            <td class="section" colspan="2">
              Blood glucose
            </td>
          </tr>

          <tr>
            <td class="label">
              Ratio:
            </td>
            <td>
              <span id="bloodGlucoseRatio2"></span> mg/dL
            </td>
          </tr>

          <tr>
            <td class="label">
              Target:
            </td>
            <td>
              <span id="bloodGlucoseOffset2"></span> mg/dL
            </td>
          </tr>

          <tr>
            <td class="label">
              Reading:
            </td>
            <td>
              <span id="bloodGlucose2"></span> mg/dL
            </td>
          </tr>

          <tr>
            <td class="label">
              Correction:
            </td>
            <td>
              <span id="bloodGlucoseUnits"></span> units
            </td>
          </tr>

          <tr>
            <td class="section" colspan="2">
              Carbs
            </td>
          </tr>

          <tr>
            <td class="label">
              Ratio:
            </td>
            <td>
              <span id="carbsRatio"></span>
            </td>
          </tr>

          <tr>
            <td class="label">
              Carbs:
            </td>
            <td>
              <span id="carbs2"></span> g
            </td>
          </tr>

          <tr>
            <td class="label">
              Bolus:
            </td>
            <td>
              <span id="carbsUnits"></span> units
            </td>
          </tr>

          <tr>
            <td class="section" colspan="2">
              Total
            </td>
          </tr>

          <tr>
            <td class="label">
              Subtotal:
            </td>
            <td>
              <span id="subtotal"></span> units
            </td>
          </tr>

          <tr>
            <td class="label">
              Keytone factor:
            </td>
            <td>
              <span id="keytoneMultiplier"></span>
            </td>
          </tr>

          <tr>
            <td class="label">
              Unrounded:
            </td>
            <td>
              <span id="unroundedTotal"></span> units
            </td>
          </tr>

          <tr>
            <td class="label">
              Rounded:
            </td>
            <td>
              <span id="total2"></span> units
            </td>
          </tr>

          <tr>
            <td class="label">
              Calculated at:
            </td>
            <td>
             <span id="time"></span>
            </td>
          </tr>

        </tbody>
      </table>

      <script src="brimley.js"></script>

    </main>

  </body>
</html>
